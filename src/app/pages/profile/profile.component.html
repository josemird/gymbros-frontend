<div class="container">
  <!-- Imagen de perfil -->
  <label>
    <img
      [src]="form.value.photo || 'https://pentaxcenter.com/wp-content/uploads/no-user-image-square.jpg'"
      alt="Foto de perfil"
      class="profile-pic"
    />
    <input type="file" (change)="onPhotoSelected($event)" />
  </label>

  <!-- Campos editables -->
  <div class="form-row" *ngFor="let field of ['name', 'username', 'email', 'gym', 'age', 'favorite_exercises', 'goals', 'hobbies']">
    <input
      [formControlName]="field"
      [readonly]="editingField !== field"
      [type]="field === 'age' ? 'number' : 'text'"
      placeholder="{{ field | titlecase }}"
    />
    <button type="button" (click)="onEdit(field)">
      {{ editingField === field ? 'Guardar' : 'Editar' }}
    </button>
  </div>

  <!-- Cambiar contraseña -->
  <div class="actions">
    <button type="button" (click)="showPasswordChange = !showPasswordChange">
      {{ showPasswordChange ? 'Cancelar cambio de contraseña' : 'Cambiar contraseña' }}
    </button>

    <div *ngIf="showPasswordChange">
      <div class="form-row">
        <input
          type="password"
          [(ngModel)]="newPassword"
          placeholder="Nueva contraseña"
        />
      </div>
      <div class="form-row">
        <input
          type="password"
          [(ngModel)]="confirmPassword"
          placeholder="Confirmar contraseña"
        />
      </div>
      <div class="error" *ngIf="error">{{ error }}</div>
      <button type="button" (click)="onPasswordChange()">Guardar contraseña</button>
    </div>

    <!-- Eliminar cuenta -->
    <button type="button" (click)="onDelete()">Eliminar cuenta</button>
  </div>
</div>
