<div class="profile-container" *ngIf="user">
  <div class="profile-card">
    <label class="avatar-wrapper">
      <img [src]="user.photo || 'https://via.placeholder.com/150'" alt="Avatar" />
      <input type="file" accept="image/*" (change)="handleImageUpload($event)" />
    </label>

    <div *ngFor="let field of ['name', 'username', 'email', 'gym', 'age', 'favorite_exercises', 'goals', 'hobbies']" class="form-row">
      <label [for]="field">{{ field.replace('_', ' ') | titlecase }}</label>
      <input [id]="field" [formControlName]="field" [readonly]="!editing[field]" [class.large-field]="['favorite_exercises', 'goals', 'hobbies'].includes(field)" />
      <button type="button" (click)="toggleEdit(field)">
        {{ editing[field] ? 'Guardar' : 'Editar' }}
      </button>
    </div>

    <div class="password-row">
      <input type="password" placeholder="Nueva contraseña" [(ngModel)]="newPassword" />
      <input type="password" placeholder="Confirmar contraseña" [(ngModel)]="confirmPassword" />
      <button type="button" class="password-btn" (click)="changePassword()">Cambiar contraseña</button>
    </div>

    <button class="delete-btn" (click)="deleteAccount()">Eliminar cuenta</button>
  </div>
</div>
